<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>

    <!-- Favicon -->
    <link rel="icon" href="Logo.png" type="image/png">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
    <link rel="stylesheet" type="text/css" href="header.css">
    <link rel="stylesheet" type="text/css" href="design.css">
    <style>

.dashboard {
    display: none;
}

.center-screen {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh; /* Full viewport height */
    background-color: black;
}

        #connect-wallet {
            background-color: #F50870FF;
            color: #fff;
            border: none;
            border-radius: 15px;
            padding: 1% 2%;
            font-size:140%;
            cursor: pointer;
        }

	/*#disconnect-wallet {
           background-color: grey;
	}*/

#notification {
		font-size: 20px;
		font-weight: bold;
		padding: 10px;
		color: white;
		background-color: #333;
		width: 50%;
		margin: 10px auto;
		border-radius: 10px;
		position: relative;
		text-align: center;
}

/* Adjust for mobile screens */
@media (max-width: 768px) {
    #notification {
        width: 80%; /* Smaller width on mobile */
        margin-top: 60px; /* Adjust the top margin for mobile */
   margin-left: 0px;

    }
}

        /* Sidebar Styles */
        .sidebar {
            background-color: #000;
            color: #fff;
            width: 250px;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: none; /* Hidden by default in mobile */
        }

        .sidebar.active {
            display: block; /* Show sidebar when active in mobile view */
        }

        .sidebar .profile {
            padding: 20px;
        }

        .sidebar .menu button {
            background: none;
            color: #fff;
            border: none;
            padding: 10px;
            text-align: left;
            width: 100%;
            cursor: pointer;
        }

        .sidebar .menu button.active {
            background-color: #333;
        }

        /* Navbar Styles */
        .navbar {
            height: 80px; /* Set consistent height for navbar */
            padding: 10px 0; /* Adjust padding */
        }

        .navbar-toggler {
            border: none;
            color: #fff;
            background-color: #333;
        }


        /* Desktop view */
        @media (min-width: 768px) {
            .sidebar {
                display: block; /* Keep sidebar visible on desktop */
            }

            .navbar-toggler {
                display: none; /* Hide hamburger menu on desktop */
            }

            .sidebar.active {
                display: block; /* Sidebar will stay open in desktop view */
            }

            .menu {
                display: block;
            }

            /* Center navbar title */
            .navbar .container {
                display: flex;
                justify-content: center;
                width: 100%;
            }

            .navbar .navbar-brand {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
            }
        }

        /* Mobile view */
        @media (max-width: 768px) {
            .sidebar {
                display: none; /* Hide sidebar in mobile view */
                position: fixed;
                top: 0;
                left: 0;
                width: 250px;
                height: 100%;
                background-color: #222;
                z-index: 1000;
            }

            .sidebar.active {
                display: block; /* Show sidebar when active in mobile view */
            }

            .navbar-toggler {
                display: block; /* Show hamburger icon in mobile view */
            }

            .menu button {
                text-align: left;
                padding: 15px 30px;
                background-color: #333;
                color: white;
                border: none;
                cursor: pointer;
            }

            .menu button.active {
                background-color: #444;
            }

            /* Ensure main content is fully visible in mobile */
            .content {
                margin-left: 0; /* Remove left margin when sidebar is toggled */
                padding: 15px;
            }
        }

        /* Ensure body content doesn't get cut off */
        body {
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        /* Content margin to avoid overlap with navbar */
        .content {
            margin-top: 80px; /* Add space to prevent navbar overlap */
        }

    </style>
<link rel="stylesheet" href="header.css">
<link rel="stylesheet" href="footer.css">
</head>
<body>

 <div class="center-screen">
    <div class="connect-wallet">

<div id="notification" style="background-color: transparent;"></div>
<br><br>
        <button id="connect-wallet" class="btn btn-primary"><b>Connect Wallet</b></button>
    </div>

</div>


<div class="dashboard">

    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#" id="navbar-title">Refer & Earn</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" onclick="toggleSidebar()">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar">
        <div class="profile">
            <img src="Logo.png" alt="Profile Picture">
            <h5><div id="nickname">Freedy Daddy</div></h5>
            <div class="wallet-address">
                <div id="wallet-address">0x1234...abcd</div>
                <i class="bi bi-clipboard" onclick="copyToClipboard()"></i>
            </div>
        </div>

        <div class="menu">
            <button class="active" onclick="switchTab('referEarnTab', 'Refer & Earn ')">Refer & Earn</button>
            <button onclick="switchTab('walletTab', 'Wallet ')">Wallet</button>
            <button onclick="switchTab('accountSettingsTab', 'Account Settings')">Account Settings</button>
        </div>
    </div>

<br>
<br>

    <!-- Main Content -->
    <div class="content">
        <!-- Refer & Earn Tab -->
        <div id="referEarnTab" class="tab-content active">
            <table id="t1">
                <tr>
                    <td id="td1-1">Airdrop Amount<br><br> <span id="claim-amount">50</span> Freedy</td>
                    <td id="td1-2">Benifits:<br><br><strong></strong><span><ul><li>Eligible for Refer & Earn<li>Whitelisted to Pre Trading</ul></span></td>
                    <td id="td1-3"><button class="claim-button" onclick="claimAirdrop()"><b>Claim Airdrop</b></button></td>
                </tr>
            </table>
            <br><br>
            <table id="t3">
                <tr>
                    <td style="text-align:left; padding:0px 30px;" id="td3-1">Refer & Earn</td>
                    <td style="text-align:right; padding:0px 10px;" id="td3-2">Status</td>
                    <td id="td3-3"><div id="activeDot"></div></td>
                </tr>
                <tr>
                    <td colspan=2 id="td3-2"><textarea type="text" id="referCode" readonly>https://freedydaddy.com/Refer.html?ref=</textarea></td>
                    <td id="td3-3"><button id="copyButton" onclick="copyReferCode()"><b>Copy</b></button></td>
                </tr>
                <tr>
                    <td colspan=3 id="td3-4" style="font-size:11px;"><p>You will get 7 CURSE token for each referral who successfully claimed airdrop for the first time.</p></td>
                </tr>
            </table>
        </div>

        <!-- Wallet Tab -->
        <div id="walletTab" class="tab-content">
            <table id="w1">
                <tr>
                    <td id="td1-1"><img src="bnb.png" alt="BNB Icon" style="width:20px; height:20px;"> BNB<br><br> <span id="bnb-bal">50</span></td>
                    <td id="td1-2"><img src="Logo.png" alt="Freedy Icon" style="width:20px; height:20px;"> Freedy (on Wallet)<br><br><span id="freedy-wallet-bal">50</span></td>
                    <td id="td1-3"><img src="Logo.png" alt="Freedy Icon" style="width:20px; height:20px;"> Freedy (Locked)<br><br><span id="freedy-locked-bal">50</span></td>
                </tr>
            </table>
        </div>

        <!-- Account Settings Tab -->
        <div id="accountSettingsTab" class="tab-content">

            <table id="t4">
                <tr>
                    <td id="td1-1">Name</td>
                    <td id="td1-2"><input type="text" id="name" class="form-control" placeholder="Enter your name"></td>
                    <td id="td1-3"><button class="name-btn" onclick="nameChange(document.getElementById('name').value)">Save</button></td>
                </tr>
            </table>
</div>

    <!-- JS -->
    <script>

function switchTab(tabId, tabName, event = null) {
    // Hide all tab contents
    document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
    });

    // Show the selected tab
    document.getElementById(tabId).classList.add('active');

    // Update the navbar with the active tab's name and icons
    if (tabId === 'accountSettingsTab') {
        document.getElementById('navbar-title').innerHTML = `${tabName} <i class="bi bi-gear"></i>`;
    } else if (tabId === 'walletTab') {
        document.getElementById('navbar-title').innerHTML = `${tabName} <i class="bi bi-wallet2"></i>`;
    } else if (tabId === 'referEarnTab') {
        document.getElementById('navbar-title').innerHTML = `${tabName} <i class="bi bi-person-check"></i>`;
    } else {
        document.getElementById('navbar-title').innerHTML = tabName;
    }

    // Update active button style (only if event is triggered by a button click)
    if (event) {
        document.querySelectorAll('.menu button').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
    }

    // Close the sidebar on mobile view after selecting an option
    if (window.innerWidth <= 768) {
        toggleSidebar(); // This will close the sidebar in mobile view
    }
}

document.addEventListener("DOMContentLoaded", function() {
    // Set the default active tab on page load
    switchTab('referEarnTab', 'Refer & Earn ');
	//updateEnrollStatus();
});

        function toggleSidebar() {
            // Toggle the sidebar visibility
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.toggle('active');
        }

        function copyToClipboard() {
        const fullAddress = document.getElementById('wallet-address').getAttribute('data-full-address');
        navigator.clipboard.writeText(fullAddress).then(() => {
            flashNotification('Wallet address copied to clipboard!', 'green');
        }).catch(() => {
            flashNotification('Failed to copy wallet address', 'red');
        });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
<script src="walletconnect.js"></script>
<script>

function flashNotification(message, color) {
            const notification = document.getElementById('notification');
            notification.style.backgroundColor = color;
            notification.textContent = message;
            setTimeout(() => {
                notification.style.backgroundColor = 'transparent';
                notification.textContent = '';
            }, 3000);
        }

document.getElementById('connect-wallet').addEventListener('click', async () => {
    try {
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
	const userAddress = accounts[0];
        const networkId = await ethereum.request({ method: 'net_version' });

        if (networkId === '56' || networkId === '97') {
            const walletAddress = accounts[0];

	walletConnected = true;
//console.log(walletAddress);
//	document.getElementById('disconnect-wallet').style.display = 'inline';
	document.getElementById('connect-wallet').style.display = 'none';

       const truncatedAddress = walletAddress.slice(0, 6) + '...' + walletAddress.slice(-4);
       document.getElementById('wallet-address').textContent = truncatedAddress;

  // Store the full address in a data attribute to make it accessible for copying
       document.getElementById('wallet-address').setAttribute('data-full-address', walletAddress);

	refreshDetails();
showContent();

        } else {
	        flashNotification('Error: Connect to Binance Smart Chain', 'red'); }
	} catch (error) {
        flashNotification('Error connecting wallet', 'red');
	}

});


/*
document.getElementById('disconnect-wallet').addEventListener('click', () => {
    document.getElementById('disconnect-wallet').style.display = 'none';
    document.getElementById('connect-wallet').style.display = 'inline-block';
});
*/

async function updateEnrollStatus()
{
	if (typeof window.ethereum !== 'undefined') {
        try {
            // Request account access
            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
            const userAddress = accounts[0];

const isUserEnrolled = await contract.methods.isEnrolled(userAddress).call();

            // Display result
            if (isUserEnrolled) {
                console.log('You are enrolled!');
            } else {
                console.log('You are NOT enrolled.');
            }

        } catch (error) {
            console.error('Error checking enrollment status:', error);
            alert('Error checking enrollment status. See console for details.');
        }
    } else {
        alert('MetaMask is not installed. Please install MetaMask and try again.');
    }
}

async function refreshDetails()
{
	const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
	const userAddress = accounts[0];
	Enroll = await contract.methods.isEnrolled(userAddress).call();
	const AirdropAmount = (await contract.methods.enrollTokenAmount().call())/(10 ** 18);
	document.getElementById('claim-amount').innerText = AirdropAmount;
	document.getElementById("activeDot").style.backgroundColor = Enroll ? '#39e75f' : 'red';
	document.getElementById('referCode').value = document.getElementById('referCode').value + userAddress;

	updateEnrollStatus();

    const nickname = await contract.methods.getNickname(userAddress).call();
	document.getElementById('nickname').innerText = nickname;


}

    function copyReferCode() {
      const referCode = document.getElementById('referCode');
      referCode.select();
      document.execCommand('copy');
    }
//---------Refer System-----------
    // Function to get URL parameters
let referWalletAddress;

 function getUrlParameter(name) {
      name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
      const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
      const results = regex.exec(location.search);
      return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
    }

    // Check if there's a referral code in the URL
    const referralCode = getUrlParameter('ref');

    if (referralCode) {
      // Apply the referral code as needed
	referWalletAddress = referralCode;
//console.log("Refered By : ",referralCode);
      console.log(`Referral code "${referralCode}" applied.`);
      // Add your logic here to apply the referral code, e.g., store it in a cookie, session, or apply it to the UI.
    }




//------------Claim Airdrop---------------
let weiAmount;

async function claimAirdrop() {

	if(!walletConnected) {
        flashNotification('Wallet not Connected', 'yellow');
	return;
	}

        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        const userAddress = accounts[0];

	if( referWalletAddress != null ) {
		
		referaddress = referWalletAddress;
		console.log("Refer By : " + referWalletAddress);
	} else {
		referaddress = "0x5B38Da6a701c568545dCfcB03FcB875f56beddC4";
	}
      
	try{

		const enrollFeeWei = await contract.methods.enrollFeeBNB().call();
		const weiAmount = web3.utils.fromWei(enrollFeeWei, 'ether');
		const gas = 500000;

		const result = await contract.methods.enroll(referaddress).send({from: userAddress,value: web3.utils.toWei(weiAmount, 'ether'), gas: gas});

		//let traxHash = result.transactionHash;

               // if (result.status) {
		//updateLog(userAddress, `✅ Airdrop Claimed - `+traxHash);

                 Enroll = await contract.methods.isEnrolled(userAddress).call();
	console.log(Enroll);
                 //document.getElementById('enroll-status').innerText = Enroll;
		 //refreshDetails();
	        //document.getElementById('popup-status').textContent = 'Transaction Successful';
		//document.getElementById('popup-message').textContent = `✅ Airdrop Claimed Sucessfully`;
		//updateLog(userAddress, `✅ Airdrop Buy`);
		//}

      } catch (error) {

console.log(`❌ Error: ${error.message}`);
	        //document.getElementById('popup-status').textContent = 'Transaction Failed';
		//document.getElementById('popup-message').textContent = `❌ Error: ${error.message}`;
//updateLog(userAddress, `❌ Airdrop: ${error.message}`);
      }
}

        function showContent() {
            // Hide the connect button and show the content
          //  document.getElementById('pepo').style.display = 'none';
            //document.querySelector('.dashboard').classList.add('visible');

            document.querySelector('.center-screen').style.display = 'none';

            // Show the main content
            document.querySelector('.dashboard').style.display = 'block';
        }


async function nameChange(nickname)
{
	try{

	        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        	const userAddress = accounts[0];

		const result = await contract.methods.setNickname(nickname).send({ from: userAddress });

            console.log('Name Changed successful:', result);
            alert('Nickname updated successfully!');

        } catch (error) {
            console.error('Error setting nickname:', error);
            alert('Error setting nickname. Check the console for details.');
        }
}
</script>
<script>
	const web3 = new Web3(window.ethereum);

        const contractAddress = '0x672eB565D612099c531323Cf4988E4c089A1A718';
        const contractABI = [
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "addToBlacklist",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "burnTokens",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "referrerAddress",
				"type": "address"
			}
		],
		"name": "enroll",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_enrollfeesbnb",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "_enrolltoken",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "_referrewardbnb",
				"type": "uint256"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "allowance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			}
		],
		"name": "ERC20InsufficientAllowance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "balance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			}
		],
		"name": "ERC20InsufficientBalance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "approver",
				"type": "address"
			}
		],
		"name": "ERC20InvalidApprover",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "receiver",
				"type": "address"
			}
		],
		"name": "ERC20InvalidReceiver",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			}
		],
		"name": "ERC20InvalidSender",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "ERC20InvalidSpender",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "mintTokens",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "OwnableInvalidOwner",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "OwnableUnauthorizedAccount",
		"type": "error"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "buy",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "user",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "nickname",
				"type": "string"
			}
		],
		"name": "NicknameUpdated",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "pauseContract",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "Paused",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "removeFromBlacklist",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenAmount",
				"type": "uint256"
			}
		],
		"name": "sell",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "fee",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "tokenReward",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "reward",
				"type": "uint256"
			}
		],
		"name": "setEnrollmentDetails",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "newImaginary",
				"type": "uint256"
			}
		],
		"name": "setImaginaryPrice",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "setLockedLiquidity",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "nickname",
				"type": "string"
			}
		],
		"name": "setNickname",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "buyer",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "bnbSpent",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "tokensReceived",
				"type": "uint256"
			}
		],
		"name": "TokensPurchased",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "unpauseContract",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "Unpaused",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "user",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "referrer",
				"type": "address"
			}
		],
		"name": "UserEnrolled",
		"type": "event"
	},
	{
		"stateMutability": "payable",
		"type": "fallback"
	},
	{
		"inputs": [],
		"name": "withdraw",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "withdrawBNB",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"stateMutability": "payable",
		"type": "receive"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "calculateTokenPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "user",
				"type": "address"
			}
		],
		"name": "CheckFreedyBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint8",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "enrollFeeBNB",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "enrollTokenAmount",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getBNBBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getFreedyBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "user",
				"type": "address"
			}
		],
		"name": "getNickname",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "user",
				"type": "address"
			}
		],
		"name": "getReferralChain",
		"outputs": [
			{
				"internalType": "address[7]",
				"name": "",
				"type": "address[7]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getTotalUsers",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "imaginary",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "isAddressBlacklisted",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "isEnrolled",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "lockedLiquidity",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "nicknames",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "paused",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "referralChain",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "referrer",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "referrewardbnb",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "TokenOnHold",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalUsers",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];
        const contract = new web3.eth.Contract(contractABI, contractAddress);
        let walletConnected = false;

document.getElementById('Metamask-Add').addEventListener('click', async () => {
    if (typeof window.ethereum !== 'undefined') {
        try {
            const tokenAddress = contractAddress; 
            const tokenSymbol = 'FREEDY';
            const tokenDecimals = 18;
            const tokenImage = 'Logo.png';

            const wasAdded = await ethereum.request({
                method: 'wallet_watchAsset',
                params: {
                    type: 'ERC20', // Token type
                    options: {
                        address: tokenAddress,
                        symbol: tokenSymbol,
                        decimals: tokenDecimals,
                        image: tokenImage
                    },
                },
            });

            if (wasAdded) {
                console.log('Token added to MetaMask!');
            } else {
                console.log('User rejected the token add request.');
            }
        } catch (error) {
            console.error('Error adding token:', error);
        }
    } else {
        alert('MetaMask is not installed. Please install MetaMask first.');
    }
});


</script>
</body>
</html>
